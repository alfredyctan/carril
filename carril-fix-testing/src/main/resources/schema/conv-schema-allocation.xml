<?xml version="1.0" encoding="UTF-8"?>
<fix-conv xmlns="http://www.afc.org/carril/fix">
	<fix-to-obj>
		<msg-map name="Allocation" source="FIX-HEADER" source-index="${35}" source-expression="J" target-type="org.afc.carril.alloc.Allocation">
			<conditions>
				<condition source="FIX" source-index="${71}" source-expression="." />
			</conditions>
			<tags>
				<tag name="msgID"        type="STRING"  source="SCHEMA" source-index="DEAL.REQ" target="OBJ" target-index="MsgID"  use="REQ" />
				<tag name="productType"        type="STRING"  source="SCHEMA" source-index="ALC" target="OBJ" target-index="ProductType"  use="REQ" />
				<tag name="allocid"        type="STRING"   source="FIX" source-index="${70}"   target="OBJ" target-index="AllocID"        use="REQ" />
				<tag name="allocTransType" type="CHAR"     source="FIX" source-index="${71}"   target="OBJ" target-index="AllocTransType" use="REQ" />
				<tag name="allocLinkID"    type="STRING"   source="FIX" source-index="${196}"  target="OBJ" target-index="AllocLinkID"    use="REQ" />
				<tag name="allocLinkType"  type="INT"      source="FIX" source-index="${197}"  target="OBJ" target-index="AllocLinkType"  use="REQ" />
<!-- 
				<tag name="uuid"           type="STRING"   source="FIX" source-index="${57}"   target="OBJ" target-index="Uuid"           use="REQ" />
-->
				<tag name="noOrder"        type="GROUP"    source="FIX" source-index="${73}"   target="OBJ" target-index="NoOrder"        use="REQ" >
					 <tag name="ciOrdID"          type="STRING"   source="FIX" source-index="${11}"  target="OBJ" target-index="CIOrdID"          use="REQ" />
					 <tag name="secondaryOrderID" type="STRING"   source="FIX" source-index="${198}" target="OBJ" target-index="SecondaryOrderID" use="REQ" />
				</tag>
				<tag name="noExecs"        type="GROUP"    source="FIX" source-index="${124}" target="OBJ" target-index="NoExecs"    use="REQ" >
					 <tag name="lastShares" type="DECIMAL" source="FIX" source-index="${32}"  target="OBJ" target-index="LastShares" use="REQ" />
					 <tag name="execID"     type="STRING"  source="FIX" source-index="${17}"  target="OBJ" target-index="ExecID"     use="REQ" />
					 <tag name="lastPx"     type="DECIMAL" source="FIX" source-index="${31}"  target="OBJ" target-index="LastPx"     use="REQ" />
				</tag>
				<tag name="side"           type="CHAR"     source="FIX" source-index="${54}"   target="OBJ" target-index="Side"           use="REQ" />
				<tag name="symbol"         type="STRING"   source="FIX" source-index="${55}"   target="OBJ" target-index="Symbol"         use="REQ" />
				<tag name="securityID"     type="STRING"   source="FIX" source-index="${48}"   target="OBJ" target-index="SecurityID"     use="REQ" />
				<tag name="idSource"       type="STRING"   source="FIX" source-index="${22}"   target="OBJ" target-index="IdSource"       use="REQ" />
<!-- 
				<tag name="product"        type="INT"      source="FIX" source-index="${460}"  target="OBJ" target-index="Product"        use="REQ" />
				<tag name="cfiCode"        type="STRING"   source="FIX" source-index="${461}"  target="OBJ" target-index="CFICode"        use="REQ" />
 -->
				<tag name="shares"         type="DECIMAL"  source="FIX" source-index="${53}"   target="OBJ" target-index="Shares"         use="REQ" />
				<tag name="avgPx"          type="DECIMAL"  source="FIX" source-index="${6}"    target="OBJ" target-index="AvgPx"          use="REQ" />
				<tag name="currency"       type="STRING"   source="FIX" source-index="${15}"   target="OBJ" target-index="Currency"       use="REQ" />
				<tag name="settlmntTyp"    type="CHAR"     source="FIX" source-index="${63}"   target="OBJ" target-index="SettlementType" use="REQ" />
				<tag name="futSettDate"    type="DATE"     source="FIX" source-index="${64}"   target="OBJ" target-index="FutSettDate"    use="REQ" />
				<tag name="noAllocs"       type="GROUP"    source="FIX" source-index="${78}"   target="OBJ" target-index="NoAllocs"       use="REQ" >
					 <tag name="AllocAccount" type="STRING"  source="FIX" source-index="${79}" target="OBJ" target-index="AllocAccount" use="REQ" />
					 <tag name="AllocShares"  type="DECIMAL" source="FIX" source-index="${80}" target="OBJ" target-index="AllocShares"  use="REQ" />
				</tag>
				<tag name="netMoney"       type="DECIMAL"  source="FIX" source-index="${118}"    target="OBJ" target-index="NetMoney"     use="REQ" />
				<tag name="tradeDate"      type="DATE"     source="FIX" source-index="${75}"     target="OBJ" target-index="TradeDate"    use="REQ" />
				<tag name="transactTime"   type="DATETIMESTAMP" source="FIX" source-index="${60}"     target="OBJ" target-index="TransactTime" use="REQ" />  
				<tag name="text"           type="STRING"   source="FIX" source-index="${58}"     target="OBJ" target-index="Text"         use="REQ" />
			</tags>
		</msg-map>
	</fix-to-obj>

	<obj-to-fix>
		<msg-map name="Allocation" source="OBJ" source-index="${MsgID}" source-expression="DEAL\.REQ" target-type="J">
			<conditions>
				<condition source="OBJ" source-index="${ProductType}" source-expression="ALC" />
			</conditions>
			<tags>
				<tag name="allocid"        type="STRING"   source="OBJ" source-index="${AllocID}"         target="FIX" target-index="70"  use="REQ" />
				<tag name="allocTransType" type="CHAR"     source="OBJ" source-index="${AllocTransType}"  target="FIX" target-index="71"  use="REQ" />
				<tag name="allocLinkID"    type="STRING"   source="OBJ" source-index="${AllocLinkID}"     target="FIX" target-index="196" use="REQ" />
				<tag name="allocLinkType"  type="INT"      source="OBJ" source-index="${AllocLinkType}"   target="FIX" target-index="197" use="REQ" />
<!-- 
				<tag name="uuid"           type="STRING"   source="OBJ" source-index="${Uuid}"            target="FIX" target-index="57"  use="REQ" />
-->
				<tag name="noOrder"        type="GROUP"      source="OBJ" source-index="${NoOrder}"         target="FIX" target-index="73"  use="REQ" >
					 <tag name="ciOrdID"          type="STRING"      source="OBJ" source-index="${CIOrdID}"          target="FIX" target-index="11"  use="REQ" />
					 <tag name="secondaryOrderID" type="STRING"   source="OBJ" source-index="${SecondaryOrderID}" target="FIX" target-index="198"  use="REQ" />
				</tag>
				<tag name="noExecs"        type="GROUP"      source="OBJ" source-index="${NoExecs}"         target="FIX" target-index="124" use="REQ" >
					 <tag name="lastShares" type="DECIMAL" source="OBJ" source-index="${LastShares}" target="FIX" target-index="32"  use="REQ" />
					 <tag name="execID"     type="STRING"  source="OBJ" source-index="${ExecID}"     target="FIX" target-index="17"  use="REQ" />
					 <tag name="lastPx"     type="DECIMAL" source="OBJ" source-index="${LastPx}"     target="FIX" target-index="31"  use="REQ" />
				</tag>
				<tag name="side"           type="CHAR"     source="OBJ" source-index="${Side}"            target="FIX" target-index="54"  use="REQ" />
				<tag name="symbol"         type="STRING"   source="OBJ" source-index="${Symbol}"          target="FIX" target-index="55"  use="REQ" />
				<tag name="securityID"     type="STRING"   source="OBJ" source-index="${SecurityID}"      target="FIX" target-index="48"  use="REQ" />
				<tag name="idSource"       type="STRING"   source="OBJ" source-index="${IdSource}"        target="FIX" target-index="22"  use="REQ" />
<!-- 
				<tag name="product"        type="INT"      source="OBJ" source-index="${Product}"         target="FIX" target-index="460" use="REQ" />
				<tag name="cfiCode"        type="STRING"   source="OBJ" source-index="${CFICode}"         target="FIX" target-index="461" use="REQ" />
 -->
				<tag name="shares"         type="DECIMAL"  source="OBJ" source-index="${Shares}"          target="FIX" target-index="53"  use="REQ" />
				<tag name="avgPx"          type="DECIMAL"  source="OBJ" source-index="${AvgPx}"           target="FIX" target-index="6"   use="REQ" />
				<tag name="currency"       type="STRING"   source="OBJ" source-index="${Currency}"        target="FIX" target-index="15"  use="REQ" />
				<tag name="settlmntTyp"    type="CHAR"     source="OBJ" source-index="${SettlementType}"     target="FIX" target-index="63"  use="REQ" />
				<tag name="futSettDate"    type="DATE"     source="OBJ" source-index="${FutSettDate}"     target="FIX" target-index="64"  use="REQ" />
				<tag name="noAllocs"       type="GROUP"      source="OBJ" source-index="${NoAllocs}"        target="FIX" target-index="78"  use="REQ" >
					 <tag name="AllocAccount" type="STRING"  source="OBJ" source-index="${AllocAccount}" target="FIX" target-index="79"  use="REQ" />
					 <tag name="AllocShares"  type="DECIMAL" source="OBJ" source-index="${AllocShares}"  target="FIX" target-index="80"  use="REQ" />
				</tag>
				<tag name="netMoney"       type="DECIMAL"  source="OBJ" source-index="${NetMoney}"        target="FIX" target-index="118" use="REQ" />
				<tag name="tradeDate"      type="DATE"     source="OBJ" source-index="${TradeDate}"       target="FIX" target-index="75"  use="REQ" />
				<tag name="transactTime"   type="DATETIMESTAMP" source="OBJ" source-index="${TransactTime}"    target="FIX" target-index="60"  use="REQ" />  
				<tag name="text"           type="STRING"   source="OBJ" source-index="${Text}"            target="FIX" target-index="58"  use="REQ" />
			</tags>
		</msg-map>
		<msg-map name="News" source="OBJ" source-index="${MsgID}" source-expression="TRADEINFO" target-type="B">
			<tags>
				<tag name="headLine"    type="STRING" source="OBJ" source-index="${HeadLine}"     target="FIX" target-index="148" use="REQ" />
				<tag name="cIOrdID"     type="STRING" source="OBJ" source-index="${CIOrdID}"      target="FIX" target-index="11"  use="REQ" />
				<tag name="linesOfText" type="STRING" source="OBJ" source-index="${LinesOfText}"  target="FIX" target-index="33"  use="REQ" >
					<tag name="text"        type="STRING" source="OBJ" source-index="${Text}"         target="FIX" target-index="58"  use="REQ" />
				</tag>
			</tags>
		</msg-map>
	</obj-to-fix>
</fix-conv>